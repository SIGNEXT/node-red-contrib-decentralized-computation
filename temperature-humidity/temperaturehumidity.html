<script type="text/html" data-template-name="temperature-humidity">
    <div class="form-row">
        <label for="node-input-broker"><i class="fa fa-globe"></i> <span data-i18n="orchestrator.label.broker"></span></label>
        <input type="text" id="node-input-broker">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="common.label.name"></span></label>
        <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-input-name" data-i18n="[placeholder]common.label.name"></div>
    </div>
    <div class="form-row" style="margin-bottom: 0px">
        <label for="node-input-pin"><span data-i18n="temperature.label.pin"></span></label>
        <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-input-pin"></div>
    </div>
    <div class="form-row" style="margin-bottom: 0px">
        <label for="node-input-predicates"><span data-i18n="temperature.label.predicates"></span></label>
        <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-input-predicates"></div>
    </div>
    <div class="form-row" style="margin-bottom: 0px">
        <label for="node-input-priorities"><span data-i18n="temperature.label.priorities"></span></label>
        <div style="display: inline-block; width: calc(100% - 105px)"><input type="text" id="node-input-priorities"></div>
    </div>
    <div class="form-row" id="node-repeat">
        <label for="node-input-repeat">&nbsp;</label>
        <input type="checkbox" id="node-input-repeat" style="display:inline-block; width:15px; vertical-align:baseline;">
        <span data-i18n="temperature.repeat"></span>&nbsp;
        <input type="text" id="node-input-interval" placeholder="0.1" style="width:45px; height:28px;">&nbsp;
        <span data-i18n="temperature.units"></span>
    </div>

    <div class="form-row" >
        <label for="node-input-action"><i class="fa fa-tasks"></i> <span data-i18n="delay.action"></span></label>
        <select id="node-input-action" style="width:270px !important">
            <option value="local">Execute locally if remote not available</option>
            <option value="forward"> Send error message</option>
        </select>
    </div>
</script>

<script type="text/javascript">
    RED.nodes.registerType('temperature-humidity', {
        color: "#fdd0a2",
        category: 'function',
        defaults: {
            name: { value: "" },
            pin: { value: "", required:true, validate:RED.validators.number() },
            predicates: { value: "temperature humidity micropython" },
            priorities: { value: "" },
            repeat: { value: false },
            interval: { value: 1000 },
            broker: { type: "mqtt-broker", required: false },
            action: {value: "local"}
        },
        outputs: 2,
        icon: "temperature.svg",
        label: function () {
            return this.name || this._("temperature.temperature");
        },
        labelStyle: function () {
            return this.name ? "node_label_italic" : "";
        },
        oneditprepare: function () {
            var that = this;
        },
        oneditsave: function () {

        },
        oneditcancel: function () {

        },
        oneditresize: function (size) {

        }
    });
</script>